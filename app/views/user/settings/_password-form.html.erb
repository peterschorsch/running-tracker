<%= form_with(model: [:user, :settings, current_user], local: true, :url => { :action => "update_password" }, class: "form-horizontal", html: { autocomplete: "off" }) do |f| %>
  <div class="row vertical-align-middle">
    <div class="col-md-4 col-xs-12 text-right"><%= f.label :current_password, "Current Password:" %>
      <br /><i>(we need your current password to confirm your changes)</i>
    </div>
    <div class="col-md-8 col-xs-12"><%= f.password_field :current_password, class: 'form-control', :disabled => disable_form %></div>
  </div>
  <br />
  <div class="row vertical-align-middle">
    <div class="col-md-4 col-xs-12 text-right"><%= f.label :password, "New Password:" %></div>
    <div class="col-md-8 col-xs-12"><%= f.password_field :password, class: 'form-control', :autocomplete => "off", :disabled => disable_form %></div>
  </div>
  <br />
  <div class="row vertical-align-middle">
    <div class="col-md-4 col-xs-12 text-right"><%= f.label :password_confirmation, "Confirm New Password:" %></div>
    <div class="col-md-8 col-xs-12"><%= f.password_field :password_confirmation, class: 'form-control', :disabled => disable_form %></div>
  </div>
  <br />
  <div class="row">
    <div class="col-md-4 col-md-offset-4">
      <%= f.hidden_field :id, :value => current_user.id %>
      <%= f.button :submit, class: 'btn btn-success btn-block', :disabled => disable_form do %>
        <span class="glyphicon glyphicon-ok"></span> Save
      <% end %>
    </div>
  </div>
<% end %>